# 职业健康管理功能扩展提案

**模块编号**: 18
**分类**: 通用功能扩展 - 职业健康
**状态**: ✅ 已实现
**优先级**: 低
**创建日期**: 2025-12-31
**实施日期**: 2025-01-08

---

## 功能概述

职业健康模块提供工作相关健康风险评估和管理。

### 核心功能

1. **职业健康风险评估** - 久坐、视屏终端、倒班工作
2. **工作相关疾病** - 颈肩腰腿痛、腕管综合征
3. **工作环境评估** - 人机工程、照明、姿势
4. **职业病筛查** - 听力损失、肺病、皮肤病

---

## 数据结构

```json
{
  "occupational_health": {
    "work_type": "office_work",
    "work_hours_daily": 8,
    "screen_time_daily": 7,
    "sedentary_time_daily": 6,

    "risk_factors": [
      "prolonged_sitting",
      "screen_use",
      "repetitive_strain"
    ],

    "work_related_issues": [
      {
        "issue": "neck_pain",
        "severity": "moderate",
        "frequency": "often",
        "work_related": true
      }
    ],

    "ergonomic_assessment": {
      "chair_adjustable": true,
      "monitor_height": "eye_level",
      "lighting": "adequate",
      "break_reminders": "every_hour"
    },

    "recommendations": [
      "take_breaks_20_min_every_hour",
      "stretch_exercises",
      "monitor_distance_50-70cm",
      "adjust_chair_height"
    ]
  }
}
```

---

## 命令接口

```bash
/work assess                              # 进行职业健康评估
/work issue neck_pain moderate            # 记录工作相关问题
/work ergonomic chair_adjustable          # 记录人机工程学评估
/work status                              # 查看职业健康状态
```

---

## 注意事项

- 定时休息
- 正确姿势
- 人体工程设备
- 定期体检

---

**文档版本**: v1.0
**最后更新**: 2025-12-31
**维护者**: WellAlly Tech

---

## 实施说明

### 实施日期
2025-01-08

### 已实现文件

1. **命令接口** - `.claude/commands/occupational-health.md`
   - 8个核心操作：assess, issue, ergonomic, screening, environment, status, trend, recommend
   - 完整的医学免责声明和紧急情况指南
   - 10种工作相关问题类型支持
   - 5种工作类型分类
   - 20-20-20法则和人机工程设置指南

2. **技能分析器** - `.claude/skills/occupational-health-analyzer/SKILL.md`
   - 5种风险评估算法（久坐、视屏、倒班、劳损、压力）
   - 人机工程评估系统（5个维度，0-100分）
   - 职业病筛查和预警系统
   - 与其他模块的关联分析（睡眠、运动、心理健康、慢性病）
   - 完整的报告生成模板

3. **数据结构** - `data-example/occupational-health-tracker.json`
   - 完整的JSON数据模型
   - 用户档案、工作模式、风险评估
   - 工作相关问题追踪（含历史记录）
   - 人机工程评估（5个维度）
   - 职业病筛查记录
   - 干预措施和目标管理

4. **测试脚本** - `scripts/test-occupational-health.sh`
   - 13个测试分组
   - 90个测试用例
   - 覆盖文件完整性、数据结构、医学安全、核心功能等

### 核心功能

#### 风险评估算法
- **久坐风险**：基于久坐时间、休息频率、运动时间、现有症状（0-40分）
- **视屏终端风险**：基于屏幕时间、20-20-20法则、照明、眼部症状（0-40分）
- **倒班工作风险**：基于夜班频率、轮班模式、睡眠质量、社会适应（0-40分）
- **重复性劳损风险**：基于重复动作、力量使用、姿势固定性、症状（0-40分）
- **工作压力风险**：基于工作需求、工作控制、社会支持、症状（0-40分）

#### 人机工程评估
- 椅子评估（0-20分）：可调节性、腰椎支撑、座椅深度、扶手
- 显示器评估（0-20分）：高度、距离、角度
- 键盘鼠标评估（0-20分）：位置、手腕支撑
- 工作台评估（0-20分）：高度、空间
- 环境评估（0-20分）：照明、噪音、温度

#### 职业病筛查
基于工作类型的筛查推荐：
- 办公室工作：视力测试、肌肉骨骼评估
- 体力劳动：肌肉骨骼评估、肺功能检查
- 倒班工作：睡眠质量评估、心理健康筛查
- 噪音环境：听力测试
- 粉尘/化学环境：肺功能、皮肤病筛查

### 测试结果

测试脚本包含以下测试分组：
1. 基础文件存在性测试（3个测试）
2. JSON数据结构完整性测试（20个测试）
3. 命令功能关键词测试（20个测试）
4. 医学安全声明测试（10个测试）
5. 风险评估标准测试（6个测试）
6. 20-20-20法则测试（4个测试）
7. 人机工程设置指南测试（5个测试）
8. 技能模块功能测试（12个测试）
9. 数据结构验证测试（4个测试）
10. 集成功能测试（7个测试）
11. 预防和建议功能测试（8个测试）
12. 评分标准和统计测试（7个测试）
13. 目标管理功能测试（6个测试）

**总计：90个测试用例**

### 与其他模块集成

- **睡眠模块**：倒班工作影响分析、睡眠质量关联
- **运动模块**：久坐行为分析、体力活动关联
- **心理健康模块**：工作压力关联、心理症状分析
- **慢性病模块**：工作压力相关疾病、疾病控制影响

### 使用示例

```bash
# 职业健康评估
/work assess 办公室工作，每天8小时，主要使用电脑

# 记录工作相关问题
/work issue neck_pain moderate 颈痛，经常发作

# 人机工程评估
/work ergonomic monitor 眼水平，距离60cm

# 职业病筛查
/work screening hearing 噪音环境工作

# 查看状态
/work status

# 趋势分析
/work trend 3months

# 获取建议
/work recommend
```

### 医学安全保障

- 完整的医学免责声明
- 明确的系统功能边界
- 紧急情况分级处理（立即/尽快/定期就医）
- 职业病风险预警系统
- 不替代职业医学诊断和治疗

### 后续优化建议

1. 添加更多工作类型支持
2. 扩展职业病筛查项目
3. 增强人机工程评估细节
4. 添加更多图表和可视化
5. 集成可穿戴设备数据
6. 添加职业健康知识库
